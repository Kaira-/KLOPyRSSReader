<head>
    <title>Audio Player</title>
 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="js/mediaelement-and-player.min.js"></script>
	<script src="js/mep-feature-playlist.js"></script>
    <link rel="stylesheet" href="css/style.css" media="screen">
	
</head>
<body>
	<div class="audio-player">
	
	<audio id="audio-player" controls="controls">
    <source src="Gangnam_style.mp3" title="Gangnam style - PSY" type="audio/mp3"/>
    <source src="scarborough_fair.mp3" title="scarborough fair - Gregorian" type="audio/mp3"/>
	<source src="nothing else matters.mp3" title="Nothing else matters - Gregorian" type="audio/mp3"/>
	<source src="I still haven't found what I'm looking for.mp3" title="I still haven't found what I'm looking for - Gregorian" type="audio/mp3"/>
	<source src="Losing my religion.mp3" title="Losing my religion - Gregorian" type="audio/mp3"/>
	<source src="Auld Lang Syne.mp3" title="Auld Lang Syne - Gregorian" type="audio/mp3"/>
	<source src="Ave maria.mp3" title="Ave Maria - Gregorian" type="audio/mp3"/>
	
	</audio>
	</div>
	<div class="input">
	<p>Select a .mp3 file</p>
	<input type="file" id="file" />
	<button id="add">Add</button>
	</div>
<script>
$(function(){
    $('audio,video').mediaelementplayer({
        loop: true,
        shuffle: false,
        playlist: true,
        audioHeight: 30,
        playlistposition: 'bottom',
        features: ['playlistfeature', 'prevtrack', 'playpause', 'nexttrack', 'loop', 'shuffle', 'playlist', 'current', 'progress', 'volume'],
    });
});

var objectUrl;

$("#audio").on("canplaythrough", function(e){
    var seconds = e.currentTarget.duration;
    var duration = moment.duration(seconds, "seconds");
    
    var time = "";
    var hours = duration.hours();
    if (hours > 0) { time = hours + ":" ; }
    
    time = time + duration.minutes() + ":" + duration.seconds();
    $("#duration").text(time);
    
    URL.revokeObjectURL(objectUrl);
});

$("#file").change(function(e){
    var file = e.currentTarget.files[0];
	
	$("#filename").text(file.name);
    $("#filetype").text(file.type);
    $("#filesize").text(file.size);   
	
    objectUrl = URL.createObjectURL(file);
    $("#audio-player").prop("src", objectUrl);
	
});

$(document).ready(function() {
	$("#add").click(function() {
		$("ul").append('<li id="filename" data-url="'+objectUrl+'"> </li>');
			
	});
	$("#add").click(function() {
		$("audio").append('<source id="filename" src="'+objectUrl+'" type="audio/mp3"/>');
			
	});
});




</script>



</body>